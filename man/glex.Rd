% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/glex.R
\name{glex}
\alias{glex}
\alias{glex.xgb.Booster}
\title{Global explanations for tree-based models.}
\usage{
glex(object, x, ...)

\method{glex}{xgb.Booster}(object, x, max_interaction = Inf, ...)
}
\arguments{
\item{object}{Model to be explained.}

\item{x}{Data to be explained.}

\item{...}{Further arguments passed to methods.}

\item{max_interaction}{Maximum interaction size to consider.
Defaults to using all possible interactions.}
}
\value{
Decomposition of the regression or classification function.
A \code{list} with elements:
\itemize{
\item \code{shap}: SHAP values.
\item \code{m}: Functional decomposition, i.e., all main and interaction
components in the model.
\item \code{intercept}: Intercept, i.e., expected value of the prediction.
}
}
\description{
Global explanations for tree-based models by decomposing
regression or classification functions into the sum of main components and
interaction components of arbitrary order. Calculates SHAP values and
q-interaction SHAP for all values of q for tree-based models such as xgboost.
}
\details{
For parallel execution, register a backend, e.g. with
\code{doParallel::registerDoParallel()}.
}
\examples{
# mtcars example
library(xgboost)
x <- as.matrix(mtcars[, -1])
y <- mtcars$mpg
xg <- xgboost(data = x[1:26, ], label = y[1:26],
              params = list(max_depth = 4, eta = .1),
              nrounds = 10)
glex(xg, x[27:32, ])

\dontrun{
# Parallel execution
doParallel::registerDoParallel()
glex(xg, x[27:32, ])
}
}
